<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">


<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">

<title>Test Suite</title>
<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.11.3.css">
</head>

<body>
<div id="qunit"></div>
<div id="qunit-fixture"></div>
<script src="https://code.jquery.com/qunit/qunit-2.11.3.js"></script>

<script src="../src/Validator.js"></script>
<script src="../src/JobTime.js"></script>

<script>

QUnit.module('JobTime', function() {
    QUnit.test('コンストラクタ', function(assert) {
        let datetime = new Date('1987-12-31 12:34:56');
        let job_name = '最初の仕事';
        
        let jobtime = new JobTime(job_name, datetime);
        
        assert.equal(jobtime._job_name, job_name);
        assert.equal(jobtime._date, datetime);
    });
    
    QUnit.test('getter', function(assert) {
        let datetime = new Date('1987-12-31 12:34:56');
        let job_name = '仕事1';
        
        let jobtime = new JobTime(job_name, datetime);
        
        assert.equal(jobtime.jobName(), job_name);
        assert.equal(jobtime.jobDateTime(), '1987-12-31 12:34:56');
        assert.equal(jobtime.id(), '1987-12-31 12:34:56');
        assert.equal(jobtime.jobDate(), '1987-12-31');
        assert.equal(jobtime.jobTime(), '12:34');
    });
    
    QUnit.test('validate', function(assert) {
        let datetime = new Date('1987-12-31 12:34:56');
        let job_name = '仕事1';
        
        assert.equal(JobTime.validJobName(job_name), true);
        assert.equal(JobTime.validJobDate(datetime), true);
        
        let jobtime = new JobTime(job_name, datetime);
        assert.equal(jobtime.validate(), true);
        
        datetime = true;
        job_name = 12;
        assert.equal(JobTime.validJobName(job_name), false);
        assert.equal(JobTime.validJobDate(datetime), false);
        
        try {
            jobtime = new JobTime(job_name, datetime);
            assert.equal(1, 0);
        } catch (e) {
            assert.equal(1, 1);
        }
        
        job_name = '123456789012345678901';
        assert.equal(JobTime.validJobName(job_name), false);
    });
});


</script>

</body>
</html>
