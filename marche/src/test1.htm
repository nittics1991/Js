<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8"> 
<title></title>
</head>
<body>

<div id="container">

<header>
    <h1>Marche Jobタイムマシーン</h1>
    
    <nav>
        <ul>
            <li><a href="#data_input">JOB入力</a></li>
            <li><a href="#data_view">タイムカード</a></li>
            <li><a href="#data_total_view">１日集計</a></li>
            <li><a href="#data_list">保存データ></li>
        </ul>
    </nav>
</header>

<section id="main">
    <article id="data_input">
        <h1>JOB入力</h1>
        
        <div>
            <input type="text" name="job_name">
            <button name="job_name_button">登録</button>
        </div>
        
        <table>
            <thead>
                <th>JOB名</th>
            </thead>
            <tbody>
                <td>業務終了</td>
            </tbody>
        </table>
    </article>
    
    <article id="data_view">
        <h1>タイムカード</h1>
        
        <ol>
            <li><button name="last_month_button"><<</button></li>
            <li><button name="previous_day_button"><</button></li>
            <li><input type="date" name="job_date"></li>
            <li><button name="tomorrow_button">></button></li>
            <li><button name="next_month_button">>></button></li>
        </ol>
        
        <table>
            <thead>
                <th>JOB名</th>
                <th>開始時刻</th>
                <th>作業時間(h)</th>
            </thead>
            <tbody>
            </tbody>
        </table>
    </article>
    
    <article id="data_total_view">
        <h1>１日集計</h1>
        
        <ol>
            <li><button name="last_month_button"><<</button></li>
            <li><button name="previous_day_button"><</button></li>
            <li><input type="date" name="job_date"></li>
            <li><button name="tomorrow_button">></button></li>
            <li><button name="next_month_button">>></button></li>
        </ol>
        
        <table>
            <thead>
                <th>JOB名</th>
                <th>開始時刻</th>
                <th>作業時間(h)</th>
            </thead>
            <tbody>
            </tbody>
        </table>
    </article>
    
    <article id="data_list">
        <h1>保存データ</h1>
        
        <ul>
            <li><button name="csv_button">CSV出力</button></li>
        </ul>
        
        <table>
            <thead>
                <th>日付</th>
            </thead>
            <tbody>
            </tbody>
        </table>
    </article>
    
</section>

</div>

<script src="./EventDispatcher.js"></script>
<script src="./Repository.js"></script>

<script>

let repo = new Repository();

let data1 = {
    ar: new Array(1,2,3,4),
    dt: new Date(),
};

let data2 = {
    ar: new Array(11,12,13,14),
    dt: new Date(),
    str: "data2",
};




let val;

//no data
console.log("--no data");

val = repo.has('aaa');
console.log(val);

val = repo.find('aaa');
console.log(val);

val = repo.findAll();
console.log(val);

//save
console.log("--saved");

repo.save('aaa', data1);

val = repo.has('aaa');
console.log(val);

val = repo.find('aaa');
console.log(val);

val = repo.findAll();
console.log(val);


//save2
console.log("--save");

repo.save('bbb', data2);

val = repo.has('bbb');
console.log(val);

val = repo.find('bbb');
console.log(val);

val = repo.findAll();
console.log(val);

//remove
console.log("--remove");

repo.remove('aaa');

val = repo.has('aaa');
console.log(val);

val = repo.find('aaa');
console.log(val);

val = repo.findAll();
console.log(val);

//clear
console.log("--clear");

repo.clear();

val = repo.has('bbb');
console.log(val);

val = repo.find('bbb');
console.log(val);

val = repo.findAll();
console.log(val);







</script>

</body>
</html> 